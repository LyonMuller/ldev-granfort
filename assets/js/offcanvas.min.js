!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/selector-engine.js"),require("./util/backdrop.js"),require("./util/component-functions.js"),require("./util/focustrap.js"),require("./util/index.js"),require("./util/scrollbar.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,e.Offcanvas=t(e.BaseComponent,e.EventHandler,e.SelectorEngine,e.Backdrop,e.ComponentFunctions,e.Focustrap,e.Index,e.Scrollbar))}(this,function(e,t,i,s,n,o,r,a){"use strict";const l=".bs.offcanvas",c=`load${l}.data-api`,h=`show${l}`,d=`shown${l}`,u=`hide${l}`,f=`hidePrevented${l}`,m=`hidden${l}`,g=`resize${l}`,p=`click${l}.data-api`,_=`keydown.dismiss${l}`,b={backdrop:!0,keyboard:!0,scroll:!1},w={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class k extends e{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return b}static get DefaultType(){return w}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(t.trigger(this._element,h,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new a).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing");this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove("showing"),t.trigger(this._element,d,{relatedTarget:e})},this._element,!0)}hide(){if(!this._isShown)return;if(t.trigger(this._element,u).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide();this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new a).reset(),t.trigger(this._element,m)},this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new s({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():t.trigger(this._element,f)}:null})}_initializeFocusTrap(){return new o({trapElement:this._element})}_addEventListeners(){t.on(this._element,_,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():t.trigger(this._element,f))})}static jQueryInterface(e){return this.each(function(){const t=k.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return t.on(document,p,'[data-bs-toggle="offcanvas"]',function(e){const s=i.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),r.isDisabled(this))return;t.one(s,m,()=>{r.isVisible(this)&&this.focus()});const n=i.findOne(".offcanvas.show");n&&n!==s&&k.getInstance(n).hide();k.getOrCreateInstance(s).toggle(this)}),t.on(window,c,()=>{for(const e of i.find(".offcanvas.show"))k.getOrCreateInstance(e).show()}),t.on(window,g,()=>{for(const e of i.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&k.getOrCreateInstance(e).hide()}),n.enableDismissTrigger(k),r.defineJQueryPlugin(k),k});